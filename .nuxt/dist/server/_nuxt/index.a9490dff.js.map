{"version":3,"file":"index.a9490dff.js","sources":["../../../../pages/[name].itl.wiki/moderation/index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n       <div class=\"ni_uat\">\r\n        <span class=\"hhD\">Требуют модерации</span>\r\n        <p v-if=\"list_items.length===0\">Пусто</p>\r\n        <div v-if=\"list_items.length>0\" class=\"ib\" v-for=\"list of list_items\">  \r\n            <img class=\"ffal\" src=\"@/assets/resourses/icons/fold_full.png\">\r\n            <div class=\"poi\"> \r\n              <div class=\"nim\">\r\n                <div @click=\"article.use_article(list.name, list.id); sect.vie_sect(list.section_id, list.section_name); navigateTo('/'+this.teams.session_TeamCode+'.itl.wiki/moderation/'+list.id)\" class=\"ikor\">\r\n                  {{ list.name }}\r\n                </div>\r\n            </div>\r\n            <div class=\"liuy\">\r\n              Автор:&nbsp;<span>ХХХ</span>&nbsp;\r\n              Добавлено:&nbsp;<span>{{ edit_date(list.created_at)  }}</span>\r\n            </div>\r\n            </div>\r\n            <div @click=\"sect.vie_sect(list.section_id, list.section_name); navigateTo('/'+teams.session_TeamCode+'.itl.wiki/'+'section/'+list.section_id)\" class=\"set_modi\">\r\n              <img src=\"@/assets/resourses/icons/folder-max.png\">\r\n              <span>{{list.section_name}}</span>\r\n            </div>\r\n          </div>\r\n       </div> \r\n    </div>\r\n</template>\r\n<script>\r\nimport { useThePrivateStore } from '~~/stores/private';\r\nimport { useTeamsStore } from '~~/stores/Teams';\r\nimport { useArticleStore } from '~~/stores/ArticleStore';\r\nimport { useSectionStore } from '~~/stores/SectionStore';\r\ndefinePageMeta ({\r\n  layout: \"company\",\r\n  middleware: ['auth', 'team'],\r\n})\r\nexport default{\r\n    setup(){\r\n        const teams = useTeamsStore();\r\n        const sect = useSectionStore();\r\n        const article = useArticleStore();\r\n        const priv = useThePrivateStore()\r\n        return {teams, sect, article, priv}\r\n    },\r\n    data(){\r\n        return{\r\n            list_items: [],\r\n            mass_sec: false,\r\n            article_data: [],\r\n            good: false\r\n        }\r\n    },\r\n    created(){\r\n        setTimeout(()=>{this.info_items()}, 500) \r\n        // this.test_info()\r\n    },\r\n    methods:{\r\n        async info_items(){\r\n          const url = new URL(\r\n    \"https://api.wiki.itl.systems/team/section/sections\"\r\n);\r\n\r\nconst params = {\r\n    \"team_id\": this.teams.session_TeamID,\r\n};\r\nObject.keys(params)\r\n    .forEach(key => url.searchParams.append(key, params[key]));\r\n\r\nconst headers = {\r\n    \"Authorization\": \"Bearer \"+this.priv.token,\r\n    \"Content-Type\": \"application/json\",\r\n    \"Accept\": \"application/json\",\r\n};\r\n\r\nconst {data} = await useFetch(url, {\r\n    method: \"GET\",\r\n    headers,\r\n});\r\nfor (var a = 0; a<=data.value.data.length-1; a++){\r\n  this.list_items.push(data.value.data[a].items)\r\n}\r\nthis.list_items=this.list_items.flat()\r\nfor (var p = 0; p<=this.list_items.length-1; p++){\r\n  this.list_items[p].section_name=(data.value.data.filter((el)=>el.items.some((pl)=>pl.id===this.list_items[p].id)))[0].name\r\n  \r\n}\r\nthis.list_items=this.list_items.filter((el)=>el.status_id===2)\r\n        },\r\n        edit_date(date){\r\n            var month = ['января','февраля','марта','апреля','мая','июня','июля','августа','сентября','октября','ноября','декабря']\r\n      let dateXXX= new Date(date)\r\n       var dateXXX_text= dateXXX.getDate()+' '+month[dateXXX.getMonth()]+\" \"+\r\n      dateXXX.toTimeString().slice(0, 5)\r\n                                 \r\n      return (dateXXX_text)\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scored>\r\n@import \"assets/scss/font_family.scss\";\r\n.ni_uat{\r\n    position: absolute;\r\n    left: 430px;\r\n    top: 45px;\r\n    font-family: 'Roboto_regular';\r\n    p{\r\n        font-size: 15px;\r\n        line-height: 2;\r\n    }\r\n}\r\n.hhD{\r\n  font-family: 'Roboto_regular';\r\n  font-size: 19px;\r\n  color: rgb(37, 37, 37);\r\n}\r\n.set_modi{\r\n  position: relative;\r\n  display: flex;\r\n  cursor: pointer;\r\n  align-items: center;\r\n  flex-wrap: nowrap;\r\n  left: -15px;\r\n  top: 2px;\r\n  font-family: 'Roboto_regular';\r\n  white-space: nowrap;\r\n  font-size: 13px;\r\n  color: rgb(51, 51, 51);\r\n  img{\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 10px;\r\n    opacity: 0.5;\r\n  }\r\n  span{\r\n    position: relative;\r\n  }\r\n}\r\n.ib{\r\n    position: relative;\r\n    display: flex;\r\n    margin: 0px;\r\n    padding: 7px;\r\n    padding-bottom: 10px;\r\n    padding-top: 5px; \r\n    padding-left: 10px;\r\n    width: 900px;\r\n    height: 37px;\r\n    left: -13px;\r\n    top: 20px;\r\n    &:hover{\r\n      background-color: rgb(241, 246, 250);\r\n    }\r\n    img.ffal{\r\n      margin-top: 4px;\r\n      margin-left: 4px;\r\n      margin-right: 30px;\r\n    }\r\n    img.fold{\r\n      margin-right: 20px;\r\n      width: 38px;\r\n      height: 38px;\r\n    }\r\n    .ikor{\r\n      min-width: 150px;\r\n    }\r\n    .poi{\r\n      width: 800px;\r\n      padding-top: 7px;\r\n      &:not(:hover){\r\n        .setur{\r\n          opacity: 0;\r\n        }\r\n        .edits{\r\n          opacity: 0;\r\n        }\r\n      }\r\n      .nim{\r\n        position: relative;\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        font-size: 15px;\r\n        height: 20px;;\r\n        color: blue;\r\n        cursor: pointer;\r\n        max-width: 500px;\r\n      }\r\n      .liuy{\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        font-size: 11px;\r\n        color: gray;\r\n\r\n        span{\r\n          color: rgb(77, 77, 77);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .status{\r\n    position: relative;\r\n    left: 15px;\r\n    top: 0px;\r\n    text-align: center;\r\n    font-family: 'Roboto_regular';\r\n    color: rgb(48, 48, 48);\r\n    font-size: 12px;\r\n    padding-left: 7px;\r\n    padding-right: 7px;\r\n    height: 20px;\r\n    background-color: aliceblue;\r\n  }\r\n  .edits{\r\n   \r\n    position: relative;\r\n   display: flex;\r\n   flex-wrap: nowrap;\r\n   font-size: 14px;\r\n   font-family: 'Roboto_regular';\r\n   color: rgb(71, 71, 71);\r\n   left: 570px;\r\n   top: -27px;\r\n   cursor: pointer;\r\n   max-width: 80px;\r\n   img{\r\n    position: relative;\r\n    left: -10px;\r\n    width: 20px;\r\n   }\r\n  }\r\n</style>"],"names":["_sfc_main","article","useArticleStore","teams","sect","priv","url","params","headers","data","useFetch","p","el","date","dateXXX_text","dateXXX","month","_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_4","_imports_0","_hoisted_6","_hoisted_7","_hoisted_9","_hoisted_10","$data","_openBlock","_createElementBlock","_hoisted_3","$event","$setup","list","_unimport_unref_","_unimport_navigateTo","_toDisplayString","_hoisted_8","$options"],"mappings":"mjBAmCA,MAAAA,EAAA,CACI,OAAA,mBAGIC,EAAAC,UAEA,MAAA,CAAA,MAAAC,EAAA,KAAAC,EAAA,QAAAH,EAAA,KAAAI,CAAA,GAEJ,MAAA,CACI,MAAA,eAEI,SAAA,GACA,aAAA,CAAA,EACA,KAAA,EACJ,GAEJ,SAAA,CACI,WAAA,IAAA,CAAA,KAAA,WAAA,CAAA,EAAA,GAAA,GAGJ,QAAA,CACI,MAAA,YAAA,CACE,MAAAC,EAAA,IAAA,wDAEV,EAEAC,EAAA,CACI,QAAA,KAAA,MAAA,cACJ,EACA,OAAA,KAAAA,CAAA,4CAGA,MAAAC,EAAA,CACI,cAAA,UAAA,KAAA,KAAA,MACA,eAAA,4CAEJ,EAEA,CAAA,KAAAC,CAAA,EAAA,MAAAC,EAAAJ,EAAA,cAEI,QAAAE,CACJ,EAAA,aAAA,EACA,QAAA,EAAA,EAAA,GAAAC,EAAA,MAAA,KAAA,OAAA,EAAA,IACE,KAAA,WAAA,KAAAA,EAAA,MAAA,KAAA,GAAA,KAAA,EAEF,KAAA,WAAA,KAAA,WAAA,KAAA,EACA,QAAAE,EAAA,EAAAA,GAAA,KAAA,WAAA,OAAA,EAAAA,kHAIA,KAAA,WAAA,KAAA,WAAA,OAAAC,GAAAA,EAAA,YAAA,CAAA,GAEQ,UAAAC,EAAA,meAGD,IAAAC,EAAAC,EAAA,UAAA,IAAAC,EAAAD,EAAA,SAAA,GAAA,IACDA,EAAA,aAAA,EAAA,MAAA,EAAA,CAAA,EAEA,OAAAD,CACE,CACJ,CACJ,EA9FYG,EAAA,CAAA,MAAA,QAAA,EACJC,EAAAC,EAAA,OAAA,CAAA,MAAA,OAAA,oGAAA,EAAA,YAEgCC,EAAA,CAAA,MAAA,IAAA,aACvB,MAAA,OAAa,IAAAC,YACbC,EAAA,CAAA,MAAA,KAAA,EACEC,EAAA,CAAA,MAAA,KAAA,gBAKFC,EAAA,CAAA,MAAA,MAAA,EACSC,EAAAN,EAAA,OAAA,KAAA,qBAAA,EAAA,4FAZnBA,EAAA,MAAAF,EAAA,GAEUS,EAAA,WAAA,SAAA,GAATC,EAAA,EAAAC,EAAA,IAAAC,EAAA,gCAAA,YACWH,EAAA,WAAA,OAAA,wCAAXC,EAAA,EAAAC,EAAA,MAAAR,EAAA,GAEID,EAAA,MAAAG,EAAA,CACEH,EAAA,MAAAI,EAAA,UACQ,QAAAO,GAAA,CAAAC,EAAA,QAAA,YAAAC,EAAA,KAAAA,EAAA,EAAA,EAAAD,EAAA,KAAA,SAAAC,EAAA,WAAAA,EAAA,YAAA,EAAAC,EAAAC,CAAA,EAAA,IAAA,KAAA,MAAA,iBAAA,wBAAAF,EAAA,EAAA,CAAA,EAAgL,MAAA,MACjL,EAAAG,EAAAH,EAAA,IAAA,EAAA,EAAAI,CAAA,IAGTjB,EAAA,MAAAK,EAAA,mHAEkBL,EAAA,OAAA,KAAAgB,EAAAE,EAAA,UAAAL,EAAA,UAAA,CAAA,EAAA,CAAA,8IAG8H,MAAA"}