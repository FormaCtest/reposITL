{"version":3,"file":"list_section.b08b4afc.js","sources":["../../../../assets/resourses/icons/tringle.png","../../../../components/UI/error_add.vue","../../../../components/list_section.vue"],"sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAUCAYAAACJfM0wAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHbSURBVHgBtVTLUQJBEH09gFV64qiiJWTgZIARqBGoGWAEQAYYgRqBIagR7BoBc5Aqj3vxJEzbPYP8txZQu2qKmWb61Zt+rxf4p6B1LiWoVmF2O8R0wuxvLT5cUU0Z64TZ7RHMldIglKpgnBWWFF1IsF8PoIBj0J0gNxPUrovqCluR0tETiC/YVxpyzMgM+xDK7D8bFlmGbRgHZgIq2wcL52RlAtmVs/R8r4VtGad02AdRXdkq8CRvan0FZz+yeULmMn7DYTuAgrqzoBrs6UaBiUr32CRUMGU7ZqbnpuxZV2IOWvE1tedwxlETazM21AlsCV3kBHNFWcs1bq8FPLUXp3Y0eBin3eQCmeAEbU8QMtjvoFUILH17Coz8ziVWBZGb7P1OTxJiQdMO05kHHO2FU4zt9ZNX5aUtr7rEftk0n28/M08m9MuJvZZ6a0b8TMx9fI3mhsL6QU/m5YVAbW3jEvCMvR4X7ZXg+IJVUNC1CLvUT2bqRmJT+5lYuF+PhXDWv3ewFCWnvYzPMunivxbvL8o6ChntFxlHUOTZS16Qsi9bLlXsjFMWWKv9REjygXUYaTW6/KgQd/hFyPf6XMVnDxuBZYr0GfibcKd+0Jh8hJLy6tHcOIblVG34DSjYx+aoOMnFAAAAAElFTkSuQmCC\"","<template>\r\n    <div>\r\n     <div :style=\"[{top: top+'px'},{left: left+'px'}]\" class=\"window\">\r\n     <img src=\"@/assets/resourses/icons/tringle.png\">\r\n     <div class=\"alert\">{{ alert }}</div>\r\n     </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default{\r\n    props:{\r\n        left:{\r\n            type: Number\r\n        },\r\n        top: {\r\n            type: Number\r\n        },\r\n        alert:{\r\n            type: String\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scored lang=\"scss\">\r\n@import \"@/assets/scss/font_family.scss\";\r\n.window{\r\n    display: flex;\r\n    transition: 0.5s;\r\n    flex-direction: row;\r\n    position: relative;\r\n    background-color: rgb(253, 228, 228);\r\n    width: 1400px;\r\n    height: 60px;\r\n    left: -9px;\r\n    z-index: 1;\r\n\r\n    img{\r\n        position: relative;\r\n        width: 22px;\r\n        height: 20px;\r\n        top: 20px;\r\n        left: 20px;\r\n\r\n    }\r\n    .alert{\r\n        position: relative;\r\n        top: 22px;\r\n        left: 40px;\r\n        font-family: 'Roboto_regular';\r\n        font-size: 15px;\r\n        color: rgb(179, 0, 0);\r\n    }\r\n}\r\n</style>","<template>\r\n    <div>\r\n        <div :style=\"[{top: top-20+'px'}, {left: left+'px'}]\" class=\"trajectory_arw\"><div  :style=\"[{left: left_arrw+'px'}]\" class=\"arrw\"></div></div>\r\n        <div class=\"secD\" :style=\"[{top: top+'px'}, {left: left+'px'}]\">\r\n                     <input tabindex=\"1\" class=\"click\" type=\"text\" readonly>\r\n                     <input tabindex=\"1\" v-model=\"index_sort\" @input=\"SEARCH\" class=\"search_input\" type=\"text\" placeholder=\"Введите название раздела\">\r\n                     <div tabindex=\"1\" v-for=\"list of sort_section\">\r\n                        <div :class=\"[{'NU': true},{'actIve': sect.current_section===list.id}]\" @click=\"tp(list.id, list.name)\">{{ list.name.length>=24?list.name.substring(0, 21)+\"...\":list.name }}</div>\r\n                        <div v-if=\"list.children.length>=1\" tabindex=\"1\" v-for=\"list2 of list.children\">\r\n                        <div :class=\"[{'NU': true},{'actIve': sect.current_section===list2.id}]\" @click=\"tp(list2.id, [list.name, list2.name])\">-{{ list2.name.length>=24?list2.name.substring(0, 21)+\"...\":list2.name }}</div>\r\n                        <div v-if=\"list2.children.length>=1\" tabindex=\"1\" v-for=\"list3 of list2.children\">\r\n                        <div :class=\"[{'NU': true},{'actIve': sect.current_section===list3.id}]\" @click=\"tp(list3.id, [list.name, list2.name, list3.name], true)\">--{{ list3.name.length>=24?list3.name.substring(0, 21)+\"...\":list3.name }}</div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n            </div> \r\n    </div>\r\n</template>\r\n<script>\r\nimport { useSectionStore } from \"~~/stores/SectionStore\"\r\nimport {useVisFunStore} from \"@/stores/NavbarStore\"\r\nimport { useThePrivateStore } from \"~~/stores/private\"\r\nimport { useTeamsStore } from \"~~/stores/Teams\"\r\nexport default {\r\n    props:{\r\ntop:{\r\n    type: Number//\r\n},                         //общее окно\r\nleft:{\r\n    type: Number        //\r\n},\r\nleft_arrw:{\r\n    type: Number     //декоративная стрелка?откуда ты вызвал меня?\r\n}\r\n    },\r\nsetup(){\r\nconst fun = useVisFunStore()\r\nconst sect = useSectionStore()\r\nconst priv = useThePrivateStore()\r\nconst teams = useTeamsStore()\r\n\r\nreturn{fun, sect, priv, teams}\r\n    },\r\n    mounted(){\r\n        this.info_article()\r\n    },\r\n    beforeUpdate(){\r\n        \r\n        \r\n    },\r\n    data(){\r\n        return{\r\n            list_section: [],\r\n            list_items: [],\r\n            sort_section: [],\r\n            index_sort: '',\r\n            list_child: [],\r\n            level_section: [],\r\n            TH: {}\r\n        }\r\n    },\r\n    methods:{\r\n        async importThe(){\r\n            const url = new URL(\r\n    \"https://api.wiki.itl.systems/team/section\"\r\n);\r\nlet params = {\r\n    \"team_id\": this.teams.session_TeamID,\r\n    \"section_id\": this.sect.current_section\r\n};\r\nObject.keys(params)\r\n    .forEach(key => url.searchParams.append(key, params[key]));\r\n\r\nconst headers = {\r\n    \"Authorization\": \"Bearer \"+this.priv.token,\r\n    \"Content-Type\": \"application/json\",\r\n    \"Accept\": \"application/json\",\r\n};\r\n\r\n\r\n\r\nconst {data} = await useFetch(url, {\r\n    method: \"GET\",\r\n    headers,\r\n})\r\nthis.TH=data.value.data\r\n        },\r\n        tp(id, name, block){\r\n            this.$emit('selected', id, name, block)\r\n        },\r\n        SEARCH(){\r\n         if (this.index_sort===''){\r\n            this.sort_section=this.list_section\r\n         }else {\r\n            this.sort_section=this.list_section.filter(item=>item.name===this.index_sort)\r\n         }   \r\n         \r\n        },\r\n        async info_article() {\r\n            const url = new URL(\r\n    \"https://api.wiki.itl.systems/team/section/sections\"\r\n);\r\n\r\nconst params = {\r\n    \"team_id\": this.teams.session_TeamID,\r\n};\r\nObject.keys(params)\r\n    .forEach(key => url.searchParams.append(key, params[key]));\r\n\r\nconst headers = {\r\n    \"Authorization\": \"Bearer \"+this.priv.token,\r\n    \"Content-Type\": \"application/json\",\r\n    \"Accept\": \"application/json\",\r\n};\r\n\r\n\r\nuseFetch(url, {\r\n    method: \"GET\",\r\n    headers,\r\n}).then((outputData) => {\r\n    \r\n    this.list_section=outputData.data._rawValue.data\r\n    this.sort_section=this.list_section;\r\n    \r\n});\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scored lang=\"scss\">\r\n@import \"assets/scss/font_family.scss\";\r\n.trajectory_arw{\r\n    position: absolute;\r\n    width: 256px;\r\n    height: 20px;\r\n    z-index: 3;\r\n}\r\n.NU{\r\n    width: 215px;\r\n    \r\n    margin: 0px;\r\n    padding: 7px;\r\n    z-index: 2;\r\n    font-size: 14px;\r\n    font-family: 'Roboto_regular';\r\n    cursor: pointer;\r\n    background-color: white;\r\n    color: rgb(36, 36, 36);\r\n    &:hover{\r\n        background-color: rgb(238,244,252);\r\n        color: #0b55bb;\r\n    }\r\n}\r\n.arrw{\r\n        position: relative;\r\n        width: 0px;\r\n        height: 0px;\r\n        border: 10px solid transparent;\r\n        border-bottom: 10px solid rgb(255, 255, 255);\r\n        border-left: 12px solid transparent;\r\n        border-right: 12px solid transparent;\r\n        \r\n        \r\n    }\r\n.secD{\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    margin: 0px;\r\n    padding: 20px;\r\n    padding-left: 15px;\r\n    padding-top: 47px;\r\n    width: 223px;\r\n    height: auto;\r\n    z-index: 5;\r\n    background-color: white;\r\n    box-shadow: 0px 2px 10px 5px rgb(236, 236, 236);\r\n    transition-delay: 0.1s;\r\n   .search_input{\r\n    position: absolute;\r\n    outline:none;\r\n    font-size: 14px;\r\n    font-family: 'Roboto_regular';\r\n    border: 0px;\r\n    width: 220px;\r\n    height: 40px;\r\n    left: 0%;\r\n    margin-left: 15px;\r\n    top: 0px;\r\n    z-index: 2;\r\n    border-bottom: 1px solid #e0dbf3;\r\n    margin-bottom: 2px;\r\n   \r\n   }\r\n    .click{\r\n    position: fixed;\r\n    top: 48px;;\r\n    width: 250px;\r\n    height: 40px;\r\n    left: 90px;\r\n    cursor: pointer;\r\n    opacity: 0;\r\n    pointer-events: auto;\r\n\r\n}\r\n}\r\n</style>"],"names":["_imports_0","_sfc_main","_createElementVNode","_hoisted_2","_createElementBlock","_normalizeStyle","$props","_hoisted_1","_toDisplayString","fun","useVisFunStore","sect","useSectionStore","priv","useThePrivateStore","teams","useTeamsStore","url","params","headers","data","useFetch","id","name","block","item","outputData","_hoisted_4","_hoisted_6","_cache","args","$options","_openBlock","_normalizeClass","$setup","list","_hoisted_3","_Fragment","_renderList","list2","$event","_hoisted_5","list3","_hoisted_7"],"mappings":"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"}