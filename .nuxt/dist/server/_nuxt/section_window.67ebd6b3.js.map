{"version":3,"file":"section_window.67ebd6b3.js","sources":["../../../../components/navbar_window/section_window.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"curtain\">\r\n            <div class=\"search2\">\r\n                <div tabindex=\"1\" class=\"current_section\">\r\n                    <img src=\"@/assets/resourses/icons/folder.png\">\r\n                    <span class=\"names\">{{ sect.current_name.length>=14?sect.current_name.substring(0, 17)+'...': sect.current_name}}</span>\r\n                    <img class=\"angle\" src=\"@/assets/resourses/icons/angle_down.png\">  \r\n                </div>\r\n                \r\n                <div class=\"sect\">\r\n                     <input class=\"click\" type=\"text\" readonly>\r\n                     <input v-model=\"index_sort\" @input=\"SEARCH\" class=\"search_input\" type=\"text\" placeholder=\"Введите название раздела\">\r\n                     <div tabindex=\"0\" v-for=\"list of sort_section\">\r\n                        <div :class=\"[{'ni': true},{'actIve': sect.current_section===list.id}]\" @click=\"tp(list.id, list.name)\">{{ list.name.length>=24?list.name.substring(0, 21)+\"...\":list.name }}</div>\r\n                        <div v-if=\"list.children.length>=1\" tabindex=\"0\" v-for=\"list2 of list.children\">\r\n                        <div :class=\"[{'ni': true},{'actIve': sect.current_section===list2.id}]\" @click=\"tp(list2.id, list2.name)\">-{{ list2.name.length>=24?list2.name.substring(0, 21)+\"...\":list2.name }}</div>\r\n                        <div v-if=\"list2.children.length>=1\" tabindex=\"0\" v-for=\"list3 of list2.children\">\r\n                        <div :class=\"[{'ni': true},{'actIve': sect.current_section===list3.id}]\" @click=\"tp(list3.id, list3.name)\">--{{ list3.name.length>=24?list3.name.substring(0, 21)+\"...\":list3.name }}</div>\r\n                </div>\r\n                </div> \r\n                </div>\r\n            </div> \r\n            <div :class=\"[{'razd': true}]\" >\r\n                <div class=\"sec\" v-for=\"list of list_child\">\r\n                        <div @click=\"navigateTo('/'+teams.session_TeamCode+'.itl.wiki/section/'+list.id);\r\n                         tp(list.id, list.name)\" class=\"sec\"><img src=\"@/assets/resourses/icons/folder.png\">\r\n                          <p>{{ list.name.length>=24?list.name.substring(0, 21)+\"...\":list.name }}</p>\r\n                    </div>\r\n                </div>\r\n                <div class=\"items\">\r\n            <div class=\"stat\">СТАТЬИ</div>\r\n          <div class=\"list_items\">\r\n            <div @click=\"article.use_article(list.name, list.id); navigateTo('/'+this.teams.session_TeamCode+'.itl.wiki/section/'+this.sect.current_section+'/items/'+list.id)\" :class=\"[{'ittt':true}, {'it_active': article.article_id===list.id}]\" v-for=\"list of list_items\">\r\n                &#9679; &nbsp;{{ ' '+list.name.length>=24?list.name.substring(0, 21)+\"...\":list.name}} \r\n            </div>\r\n          </div>\r\n        </div>\r\n            </div>\r\n        </div>\r\n      \r\n          \r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { useSectionStore } from \"~~/stores/SectionStore\"\r\nimport {useVisFunStore} from \"@/stores/NavbarStore\"\r\nimport { useThePrivateStore } from \"~~/stores/private\"\r\nimport { useTeamsStore } from \"~~/stores/Teams\"\r\nimport { useArticleStore } from \"~~/stores/ArticleStore\"\r\nexport default {\r\nsetup(){\r\nconst fun = useVisFunStore()\r\nconst sect = useSectionStore()\r\nconst priv = useThePrivateStore()\r\nconst teams = useTeamsStore()\r\nconst article = useArticleStore()\r\n\r\nreturn{fun, sect, priv, teams, article}\r\n    },\r\n    mounted(){\r\n        setTimeout(()=>{this.info_items().then(()=>this.info_article())}, 1000) \r\n        \r\n    },\r\n    \r\n    data(){\r\n        return{\r\n            list_section: [],\r\n            list_items: [],\r\n            sort_section: [],\r\n            index_sort: '',\r\n            list_child: [],   //лист подразделов текущего раздела\r\n            list_child2: [], //лист все разделов level2\r\n            level_section: [],\r\n            mass_child: [] //массив, подразделов второго уровня\r\n        }\r\n    },\r\n    methods:{\r\n        \r\n        tp(id, name){\r\n            this.sect.vie_sect(id, name)\r\n         window.location.href='/'+this.teams.session_TeamCode+'.itl.wiki/section/'+id\r\n        },\r\n        SEARCH(){\r\n         if (this.index_sort===''){\r\n            this.sort_section=this.list_section\r\n         }else {\r\n            this.sort_section=this.list_section.filter(item=>item.name===this.index_sort)\r\n         }   \r\n         \r\n        },\r\n        async info_child2000(id_mass){  //получаем объект детей второго уровня, нужно сделать массив детей 3 уровня\r\n            \r\n        \r\n\r\n        },\r\n        async info_items(){\r\n            const url = new URL(\r\n    \"https://api.wiki.itl.systems/team/section\"\r\n);\r\nconst params = {\r\n    \"team_id\": this.teams.session_TeamID,\r\n    \"section_id\": this.sect.current_section\r\n}\r\nObject.keys(params)\r\n    .forEach(key => url.searchParams.append(key, params[key]));\r\nconst headers = {\r\n    \"Authorization\": \"Bearer \"+this.priv.token,\r\n    \"Content-Type\": \"application/json\",\r\n    \"Accept\": \"application/json\",\r\n};\r\n\r\nconst {data, error} = await useFetch(url, {\r\n    method: \"GET\",\r\n    headers,\r\n})\r\nthis.list_child=data.value.data.section.child\r\nthis.level_section=data.value.data.section.level\r\nfor (var p = 0; p<=data.value.data.section.items.length-1; p++){\r\n    if (data.value.data.section.items[p].status_id===3){\r\n        this.list_items.push(data.value.data.section.items[p])\r\n    }\r\n}\r\n\r\n\r\n        },\r\n        async info_article() {\r\n            const url = new URL(\r\n    \"https://api.wiki.itl.systems/team/section/sections\"\r\n);\r\n\r\nconst params = {\r\n    \"team_id\": this.teams.session_TeamID,\r\n};\r\nObject.keys(params)\r\n    .forEach(key => url.searchParams.append(key, params[key]));\r\n\r\nconst headers = {\r\n    \"Authorization\": \"Bearer \"+this.priv.token,\r\n    \"Content-Type\": \"application/json\",\r\n    \"Accept\": \"application/json\",\r\n};\r\n\r\n\r\nawait useFetch(url, {\r\n    method: \"GET\",\r\n    headers,\r\n}).then((outputData) => {\r\n   \r\n    this.list_section=outputData.data._rawValue.data\r\n    if (this.level_section===1) {\r\n    for (let i = 0; i<=this.list_section.length-1; i++) {\r\n        if(this.list_section[i].id===this.sect.current_section) {\r\n         [this.list_section[0], this.list_section[i]] = [this.list_section[i], this.list_section[0]];\r\n         this.sort_section=this.list_section;\r\n         break;\r\n        }\r\n        \r\n    }\r\n}else this.sort_section=this.list_section;\r\n    for (let a =0; a <=this.list_section.length-1; a++){\r\n        this.list_child2.push(this.list_section[a].children)\r\n    }\r\n    this.list_child2=this.list_child2.flat()\r\n});\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style scored lang=\"scss\">\r\n@import \"assets/scss/font_family.scss\";\r\n.razd{\r\n    position: absolute;\r\n    padding: 0%;\r\n    cursor: auto;\r\n    margin: 0%;\r\n    width: 255px;\r\n    top: 60px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    left: 0%;\r\n    .text{\r\n\r\n        position: absolute;\r\n        top: 0%;\r\n    }\r\n    .sec{\r\n        \r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    font-family: 'Roboto_regular';\r\n    color: rgb(26, 26, 26);\r\n    font-size: 14px;\r\n    width: 248px;\r\n    height: 40px;\r\n    padding-left: 10px;\r\n    img{\r\n        margin-top: 11px;\r\n        position: static;\r\n        top: 11px;\r\n        width: 22px;\r\n        height: 17px;\r\n    }\r\n    &:hover{\r\n        background-color: rgb(221, 233, 250);\r\n        color: rgb(59, 59, 250);\r\n        cursor: pointer;\r\n        img{\r\n            filter: brightness(85%)\r\n        }\r\n    }\r\n   \r\n    p{\r\n        padding-left: 20px;\r\n        line-height: 16px;\r\n    }  \r\n    }\r\n}\r\n.items{\r\n    margin-top: 40px;\r\n    width: 300px;\r\n    height: 50px;\r\n    top: 175px;\r\n    .stat{\r\n    margin-left: 19px;\r\n    left: 40px;\r\n    font-size: 14px;\r\n    font-family: 'Roboto_regular';\r\n}\r\n    .list_items{\r\n        display: flex;\r\n        flex-direction: column;\r\n        margin-top: 30px;\r\n        width: 300px;\r\n    }\r\n    .ittt{\r\n        width: 245px;\r\n        height: 15px;\r\n        font-size: 14px;\r\n        font-family: 'Roboto_regular';\r\n        padding-left: 20px;\r\n        margin-left: 0px;\r\n        padding-bottom: 12px;\r\n        padding-top: 12px;\r\n        color: #383838;\r\n        cursor: pointer;\r\n        &:hover{\r\n            background-color: rgb(228, 242, 255);\r\n            color: #0b55bb;\r\n        }\r\n       \r\n    }\r\n    .it_active{\r\n            background-color: rgb(228, 242, 255);\r\n            color: #0b55bb;\r\n            \r\n}\r\n}\r\n\r\n.child_if{\r\n    position: relative;\r\n    left: -7px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 215px;\r\n    margin: 0px;\r\n    padding: 7px;\r\n    z-index: 2;\r\n    font-size: 14px;\r\n    font-family: 'Roboto_regular';\r\n    cursor: pointer;\r\n    background-color: white;\r\n    color: rgb(36, 36, 36);\r\n    &:hover{\r\n        background-color: rgb(238,244,252);\r\n        color: #0b55bb;\r\n    }\r\n}\r\n.ni{\r\n    width: 215px;\r\n    \r\n    margin: 0px;\r\n    padding: 7px;\r\n    z-index: 2;\r\n    font-size: 14px;\r\n    font-family: 'Roboto_regular';\r\n    cursor: pointer;\r\n    background-color: white;\r\n    color: rgb(36, 36, 36);\r\n    &:hover{\r\n        background-color: rgb(238,244,252);\r\n        color: #0b55bb;\r\n    }\r\n}\r\n.actIve{\r\n    background-color: rgb(238,244,252);\r\n    color: #0b55bb;\r\n}\r\n.sect{\r\n    display: flex;\r\n    flex-direction: column;\r\n    position: absolute;\r\n    margin: 0px;\r\n    padding: 20px;\r\n    padding-left: 15px;\r\n    padding-top: 47px;\r\n    width: 223px;\r\n    height: auto;\r\n    z-index: 2;\r\n    background-color: white;\r\n    box-shadow: 0px 12px 10px 5px rgb(224, 224, 224);\r\n    top: 50px;\r\n    transition-delay: 0.1s;\r\n    left: 0px;\r\n    opacity: 0;\r\n\r\n   .search_input{\r\n    position: absolute;\r\n    outline:none;\r\n    font-size: 14px;\r\n    font-family: 'Roboto_regular';\r\n    border: 0px;\r\n    width: 220px;\r\n    height: 40px;\r\n    left: 0%;\r\n    margin-left: 15px;\r\n    top: 0px;\r\n    z-index: 2;\r\n    border-bottom: 1px solid #e0dbf3;\r\n    margin-bottom: 2px;\r\n   \r\n   }\r\n    .click{\r\n    position: fixed;\r\n    top: 48px;;\r\n    width: 250px;\r\n    height: 40px;\r\n    left: 90px;\r\n    cursor: pointer;\r\n    opacity: 0;\r\n    pointer-events: auto;\r\n\r\n}\r\n&:not(:focus-within) {\r\n    pointer-events: none;\r\n}\r\n    &:focus-within{\r\n        opacity: 1;\r\n        pointer-events: auto;\r\n        .ni{\r\n            pointer-events: auto;\r\n        }\r\n        .search_input{\r\n            pointer-events: auto;\r\n        }\r\n    }\r\n}\r\n.current_section{\r\n    width: 218px;\r\n    height: 10px;\r\n    position: absolute;\r\n    margin: 0px;\r\n    padding: 20px;\r\n    border: 1px solid #e0dbf3;\r\n}\r\n.search2{\r\n    position: absolute;\r\n    left: 20px;\r\n    top: 45px;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n    &:focus-within{\r\n        .current_section{\r\n        background-color: white;\r\n        box-shadow: 0px 0px 10px 0px rgb(207, 207, 207); \r\n        }\r\n    }\r\n    .current_section:hover{\r\n        background-color: white;\r\n        box-shadow: 0px 0px 10px 0px rgb(207, 207, 207);\r\n    }\r\n    .click:hover{\r\n        .current_section{\r\n        background-color: white;\r\n        box-shadow: 0px 0px 10px 0px rgb(207, 207, 207);\r\n    }  \r\n    }\r\n    img{\r\n        position: absolute;\r\n        top: 14px;\r\n    }\r\n    .names{\r\n        position: absolute;\r\n        top: 30%;\r\n        font-size: 15px;\r\n        font-family: 'Roboto_regular';\r\n        color: #383838;\r\n        margin-left: 10px;\r\n    }\r\n    .angle{\r\n         position: absolute;\r\n         top: 22px;\r\n         left: 230px;\r\n    }\r\n}\r\n.curtain{\r\n    position: fixed;\r\n    background-color: rgb(238,244,252);\r\n    width: 300px;\r\n    height: 100%;\r\n    z-index: 4;\r\n    left:80px;\r\n    top: 0%;\r\n}\r\n\r\n</style>"],"names":["_sfc_main","fun","useVisFunStore","sect","useSectionStore","priv","useThePrivateStore","teams","useTeamsStore","article","useArticleStore","id","item","id_mass","url","params","headers","data","error","useFetch","p","outputData","a","_hoisted_1","_hoisted_2","_hoisted_5","_imports_1","_hoisted_7","_hoisted_9","_hoisted_11","_hoisted_13","_normalizeClass","_hoisted_16","_hoisted_19","_hoisted_20","_createElementVNode","_hoisted_21","_hoisted_3","_toDisplayString","$setup","_cache","args","$options","_openBlock","_createElementBlock","list","_hoisted_10","_Fragment","_renderList","list2","_hoisted_12","list3","_hoisted_14","_hoisted_15","_hoisted_22"],"mappings":"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"}