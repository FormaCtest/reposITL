{"version":3,"file":"Add.9db04b3e.js","sources":["../../../../components/new_company.vue","../../../../pages/Team/Add.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <form v-on:submit.prevent=\"onSubmit\">\r\n    <div class=\"in name\"><input @input=\"this.error_name=false, this.un_name=false\" :class=\"{'error': error_name}\" type=\"text\" v-model=\"name\" placeholder=\"Название вашей компании\"></div>\r\n    <div class=\"in adress\"> <div><input @input=\"testLink()\" :class=\"{'error': error_link}\" v-model=\"adress\" type=\"text\" placeholder=\"адрес сайта\"></div></div>\r\n    <button  type=\"subtim\" @click.prevent=\"add\" class=\"button\"><p class=\"create_text\">Создать компанию</p></button>\r\n    </form>\r\n       <div class=\"by\"><p>Нажимая кнопку «Создать компанию» вы принимаете <a href=\"#\">Условия обслуживания</a> в отношении продуктов ITL и соглашаетесь с <a href=\"#\">Политикой конфиденциальности.</a></p></div>\r\n        <NuxtLink to=\"/Account/your_company\" class=\"miss\" >Пропустить</NuxtLink>\r\n        <help_window :class=\"[{'activE':visible},{'dis':true}]\" v-bind:style=\"[{top:'330px'},{left:'470px'}]\"/>\r\n        <div class=\"itl\"><p>itl.wiki</p><div ><img @click.prevent=\"help\" :class=\"{'que':que}\" src=\"@/assets/resourses/icons/support_2.png\"></div></div>\r\n        <div :style=\"[{top: '235px'},{left: '140px'}]\" v-if=\"un_name\" class=\"un\"><p>Вы не ввели название</p></div>\r\n        <div :style=\"[{top: '335px'},{left: '140px'}]\" v-if=\"un_link\" class=\"un\"><p>Вы не ввели адрес сайта</p></div>\r\n        <div :style=\"[{top: '335px'},{left: '140px'}]\" v-if=\"un_link2\" class=\"un\"><p> короткий адресс</p></div>\r\n        <img v-if=\"test1\" class = \"analysis\" src=\"@/assets/resourses/icons/analysis.png\">\r\n        </div>\r\n</template>\r\n<script>\r\nimport { useThePrivateStore } from '~~/stores/private'\r\nimport {useTeamsStore} from '@/stores/Teams'\r\nexport default {\r\n  setup() {\r\n    const priv = useThePrivateStore()\r\n    const teams = useTeamsStore()\r\n    return {priv, teams}\r\n  },\r\n  data() {\r\n    return{\r\n    test1: false,\r\n    un_name: false,\r\n    un_link: false,\r\n    un_link2: false,\r\n    error_name: false,\r\n    error_link: false,\r\n    que: false,\r\n    name: '',\r\n    adress: '',\r\n    visible: false,\r\n    }\r\n  },\r\n  methods:{\r\n    help() {\r\n      this.visible=true\r\n      this.que=true\r\n      setTimeout(()=>this.dishelp(), 4000)\r\n    },\r\n    \r\n    dishelp() {\r\n      this.visible=false\r\n      this.que=false\r\n    },\r\n    add(){\r\n      if (this.name.length<1) {\r\n        this.un_name=true;\r\n         this.error_name=true;\r\n\r\n      }\r\n      else if (this.adress.length<=7) {\r\n         this.un_link=true;\r\n         this.error_link=true\r\n      }\r\n      else { this.GreateAdd() }\r\n      },\r\n      \r\n      async GreateAdd() {\r\n\r\n        const url = new URL(\r\n    \"https://api.wiki.itl.systems/team/add\"\r\n);\r\n\r\nconst headers = {\r\n    \"Authorization\": \"Bearer \"+this.priv.token,\r\n    \"Content-Type\": \"application/json\",\r\n    \"Accept\": \"application/json\",\r\n};\r\n\r\nlet body = {\r\n    \"name\": this.name,\r\n    \"code\": this.adress\r\n};\r\n\r\nconst du = await useFetch(url, {\r\n    method: \"POST\",\r\n    headers,\r\n    body: JSON.stringify(body),\r\n})\r\n\r\nif (du.error.value===null) {\r\n  var fg = du.data._value.data.team_id\r\n  this.teams.active_company(fg, this.adress)\r\n  setTimeout(()=>{navigateTo('/'+this.teams.session_TeamCode+'.itl.wiki/new_user')}, 300)\r\n  \r\n}else {\r\n  this.error_name=true\r\n  this.error_link=true\r\n}\r\n      },\r\n    \r\n    testLink() {\r\n      if (this.adress.length<7) {\r\n        this.un_link=false;\r\n        this.error_link= true;\r\n        this.un_link2=true;\r\n        \r\n      }\r\n      if (this.adress.length>=7) {\r\n        this.un_link2=false;\r\n        this.un_link=false;\r\n        this.error_link= false;\r\n        this.test1 = true\r\n        setTimeout(() => this.test1=false, 150);\r\n      }\r\n     },\r\n  }}\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n @import \"@/assets/scss/style.scss\";\r\n @import \"@/assets/scss/input.scss\";\r\n @import \"@/assets/scss/button.scss\";\r\n @import \"@/assets/scss/font_family.scss\";\r\n\r\n.analysis{\r\n  top:310px;\r\n  left: 420px;\r\n}\r\n .button{\r\n  left: 129px;\r\n  top: 480px;\r\n }\r\n .un{\r\n  position: absolute;\r\n  left: 300px;\r\n  width: 200px;\r\n}\r\n.name .error, .adress .error{\r\n  border-bottom: 1px solid red;\r\n}\r\n.un p{\r\n  color: rgb(221, 0, 0);\r\n  font-family: 'Roboto_regular';\r\n  font-size: 13px;\r\n}\r\n .dis {\r\n    opacity: 0;\r\n    transition: 0.5s;\r\n  }\r\n .activE{\r\n  opacity: 1;\r\n}\r\n .miss{\r\n  position: absolute;\r\n  left: 350px;\r\n  top: 500px;\r\n  text-decoration: none;\r\n  font-size: 14px;\r\n  color: rgb(63, 63, 63);\r\n  font-family: 'Roboto_regular';\r\n  transition: 0.2s;\r\n  &:hover{\r\n    color: blue;\r\n  }\r\n }\r\n .by{\r\n  position: absolute;\r\n  width: 380px;\r\n  height: 54px;\r\n  font-family: \"Roboto_regular\";\r\n  font-size: 11px;\r\n  color: #999999;\r\n  top: 380px;\r\n  line-height: 1.5;\r\n  left: 129px;\r\n}\r\n.by a{\r\n  color: #999999;\r\n}\r\n .itl{\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: space-between;\r\n    position: absolute;\r\n    width: 69px;\r\n    height: 168px;\r\n    left: 460px;\r\n    top: 285px;\r\n  \r\n    img{\r\n        position: absolute;\r\n        top:18px;\r\n        opacity: 0.5;\r\n        transition: 0.09s;\r\n    }\r\n    img:hover{\r\n        opacity: 1;\r\n        cursor: pointer;}\r\n    .que{\r\n  opacity:1\r\n }\r\n    p{\r\n        font-size: 19px;\r\n        color: rgb(54, 54, 54);\r\n        font-family: 'NS_Medium'\r\n    }\r\n }\r\n .name{\r\n left: 129px;\r\n top: 140px;\r\n } \r\n .adress{\r\n left: 129px;\r\n top: 240px;\r\n width: 310px;\r\n }\r\n .in{\r\n    input{\r\n  font-size: 20px;\r\n}\r\n }\r\n</style>","<template>\r\n    <div>\r\n      <div class=\"container_Add\">\r\n      <div class=\"line\">\r\n      <div class=\"soz\">Создание компании</div>\r\n      <div class=\"chevrol\"><img src=\"@/assets/resourses/icons/chevrol.png\"></div>\r\n      <div>Добавление пользователей</div>\r\n    </div>\r\n       <new_company />\r\n      </div>\r\n    </div>\r\n</template>\r\n<script> \r\nimport { useThePrivateStore } from '~~/stores/private';\r\ndefinePageMeta({\r\n  layout: \"user\",\r\n  middleware: ['auth'],\r\n});\r\nexport default { \r\n  setup() {\r\n   const priv = useThePrivateStore()\r\n   return{priv}\r\n}\r\n}\r\n</script>\r\n<style scored lang=\"scss\">\r\n @import \"@/assets/scss/style.scss\";\r\n @import \"@/assets/scss/input.scss\";\r\n @import \"@/assets/scss/button.scss\";\r\n @import \"@/assets/scss/font_family.scss\";\r\n .line{\r\n    display: flex;\r\n    flex-wrap: nowrap;\r\n    justify-content: space-between;\r\n    position: absolute;\r\n    left: 129px;\r\n    top: 32px;\r\n    width: 600px;\r\n    height: 50px;\r\n  }\r\n  .chevrol{\r\n    position: relative;\r\n    top: 3px;\r\n  }\r\n  .soz{\r\n    color: rgb(12, 12, 12);\r\n  }\r\n  .container_Add{\r\n    position: absolute;\r\n    height: 640px;\r\n  }\r\n</style>\r\n"],"names":["_sfc_main","priv","teams","url","headers","body","du","useFetch","fg","navigateTo","_hoisted_1","_hoisted_2","_hoisted_3","_withScopeId","_createElementVNode","_hoisted_6","_hoisted_7","_normalizeStyle","_hoisted_9","_hoisted_12","_hoisted_15","_imports_1","_cache","_withModifiers","args","_ctx","_normalizeClass","$data","$event","$options","_imports_0","_openBlock","_createElementBlock","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_13","_hoisted_14","_hoisted_16","_hoisted_17"],"mappings":"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"}