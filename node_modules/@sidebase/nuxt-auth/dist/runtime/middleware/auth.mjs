import { defineNuxtRouteMiddleware } from "#app";
import useSession from "../composables/useSession.mjs";
export default defineNuxtRouteMiddleware((to) => {
  if (to.meta.auth === false) {
    return;
  }
  const { status, signIn } = useSession();
  if (status.value === "authenticated") {
    return;
  }
  return signIn(void 0, { callbackUrl: to.path }, { error: "SessionRequired" });
});
